
  <div class="container pl-20 pr-20">

    <div class="card" style="min-height: 600px;">
      <p-toast></p-toast>

      <div class="mb-12">
        <h4 class="mt-4">Manage Interventions</h4>
      </div>

  <p-table #dt2 
            [value]="climateactions"
            [paginator]="true"
            [rows]="rows" 
            [totalRecords]="totalRecords" [sortField]="'id'" [sortOrder]="-1"
            [lazy]="true" 
            (onLazyLoad)="loadgridData($event)" 
            [showCurrentPageReport]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} Entries"
            [rowsPerPageOptions]="[1, 10, 25, 50]" 
            [loading]="loading" 
            [responsive]="true"

  [globalFilterFields]="['id', 'policyName', 'contactPersoFullName']">
    <ng-template pTemplate="caption">
      <div class="d-flex justify-content-end">
          <span class="p-input-icon-left ml-auto">
              <i class="pi pi-search"></i>
              <input pInputText type="text" (input)="onInput($event, dt2)" placeholder="Search keyword" />
          </span>
      </div>
  </ng-template>

    <ng-template pTemplate="header">
        <tr  >
            <!-- <th pSortableColumn="id" >ID <p-sortIcon field="id"></p-sortIcon></th> -->
            <!-- <th pSortableColumn="policyName" >INTERVENTION <p-sortIcon field="policyName"></p-sortIcon></th> -->
            <!-- <th pSortableColumn="contactPersoFullName">PROJECT PROPENENT<p-sortIcon field="contactPersoFullName"></p-sortIcon></th> -->
            <th>Intervention</th>
            <th>Type of intervention</th>
            <th>Current status</th>
            <th>Status of approval</th>
            <th>Actions</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-climateactions>
        <tr>
          <!-- <td>{{climateactions.id}}</td> -->
          <td>
            {{ climateactions.policyName }}</td>
          <!-- <td>{{ climateactions.contactPersoFullName }}</td> -->
          <td>
             {{climateactions.typeofAction}}
         </td>
           <td>
             {{climateactions.projectStatus?.name}}
          </td>
          <td>
            {{(climateactions.projectApprovalStatus?.id == undefined || climateactions.projectApprovalStatus?.id ==
            4)?'Proposed':(climateactions.projectApprovalStatus.id == 3?'Data
            Requested':(climateactions.projectApprovalStatus.id == 1?'Accept':(climateactions.projectApprovalStatus.id
            == 5?'Active':'Reject')))}}
          </td>
          <td>
            <i class="pi pi-eye" style="font-size: 1.5rem; color: #000; margin-left: 17%"
              (click)="detail(climateactions)"></i>
          </td>

        </tr>
    </ng-template>
  </p-table>








    </div>
  </div>
