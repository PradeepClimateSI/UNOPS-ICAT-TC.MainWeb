<div class="container pl-20 pr-20">
    <div class="mb-12">
        <h4 class="mt-4"> Assess Investment & Private Sector Transformational Change</h4>
    </div>
    <form #fData="ngForm" (ngSubmit)="save(fData)">
        <div class="card" style="min-height: 600px;">
            <div class="p-grid p-fluid col-md-6 col-sm-12">
                <div class="row p-2">
                    <div class="col-12 col-md-8">
                        <div class="p-field p-2">
                            <label for="policy">Select Intervetion *</label>
                            <p-dropdown name="policy" #policy="ngModel" placeholder="Select Policy"
                                [(ngModel)]="assessment.climateAction" appendTo="body" [options]="policies"
                                optionLabel="policyName" [required]="true"></p-dropdown>
                            <p class="info-message text-danger" *ngIf="
                                !assessment.climateAction &&
                                (fData.submitted || policy.touched)
                              ">
                                This is a mandatory field
                            </p>
                        </div>
                        <div class="p-field p-2">
                            <label for="policy">Assessment Type *</label>
                            <p-dropdown name="type" #type="ngModel" placeholder="Select Assessment Type"
                                [(ngModel)]="assessment.assessmentType" [options]="assessment_types" optionLabel="name"
                                optionValue="name" [required]="true"
                                (onChange)="selectAssessmentType($event)"></p-dropdown>
                            <p class="info-message text-danger" *ngIf="
                                !assessment.assessmentType &&
                                (fData.submitted || type.touched)
                              ">
                                This is a mandatory field
                            </p>
                        </div>
                        <div class="p-field p-2">
                            <label for="Level of implementation">Level of implementation*</label>
                            <p-dropdown name="investorAssessment.level_of_implemetation" #type="ngModel"
                                placeholder="Select Level of implementation"
                                [(ngModel)]="investorAssessment.level_of_implemetation"
                                [options]="levelOfImplementation" optionLabel="name" optionValue="name"
                                [required]="true"></p-dropdown>
                            <p class="info-message text-danger" *ngIf="
                                !investorAssessment.level_of_implemetation &&
                                (fData.submitted || type.touched)
                              ">
                                This is a mandatory field
                            </p>
                        </div>
                        <div class="p-field p-2">
                            <label for="Level of implementation">Geographical Areas Covered*</label>
                            <p-dropdown name="investorAssessment.geographical_areas_covered" #type="ngModel"
                                placeholder="Select Geographical Areas Covered"
                                [(ngModel)]="investorAssessment.geographical_areas_covered"
                                [options]="levelOfImplementation" optionLabel="name" optionValue="name"
                                [required]="true"></p-dropdown>
                            <p class="info-message text-danger" *ngIf="
                                !investorAssessment.geographical_areas_covered &&
                                (fData.submitted || type.touched)
                              ">
                                This is a mandatory field
                            </p>
                        </div>
                        <div class="p-field p-2">
                            <label for="Sectors Covered">Sectors Covered*</label>

                            <p-multiSelect name="sectors" #type="ngModel" placeholder="Select Sectors Covered"
                                [(ngModel)]="sectorArray" [options]="sectorList"
                                (ngModelChange) ="onItemSelectSectors($event)" optionLabel="name" 
                                [required]="true"></p-multiSelect>
                            <p class="info-message text-danger" *ngIf="
                                sectorArray.length===0 &&
                                (fData.submitted || type.touched)
                              ">
                                This is a mandatory field
                            </p>
                        </div>

                        <div class="p-field p-2">
                            <label for="Sectors Covered">Impact Covered*</label>
                            <p-multiSelect name="impact" #type="ngModel" placeholder="Select Impact Covered"
                                [(ngModel)]="impactArray" [options]="impactCovered"
                                (ngModelChange)="onItemSelectImpacts($event)" optionLabel="name"
                                [required]="true"></p-multiSelect>
                            <p class="info-message text-danger" *ngIf="
                                impactArray.length===0 &&
                                (fData.submitted || type.touched)
                              ">
                                This is a mandatory field
                            </p>
                        </div>

                        <div class="p-field p-2">

                            <label for="date1">Assessment Period</label>
                            <div class="p-inputgroup">
                                <span class="p-inputgroup-addon">
                                    <i class="pi pi-calendar"></i>
                                </span>
                                <p-calendar dateFormat="mm-dd-yy" inputId="date1" placeholder="From"   [(ngModel)]="assessment.from"
                                    name="date1"></p-calendar>
                                <span class="p-inputgroup-addon">to</span>
                                <p-calendar dateFormat="mm-dd-yy" inputId="date2" placeholder="To" [(ngModel)]="assessment.to"
                                    name="date2"></p-calendar>
                            </div>
                        </div>

                        <div class="p-field p-2">
                            <label for="Sectors Covered">Assessment Method*</label>
                            <p-dropdown name="type" #type="ngModel" placeholder="Select Assessment Method"
                                [(ngModel)]="assessment.assessment_method" [options]="assessmentMethods" optionLabel="name"
                                optionValue="name" ></p-dropdown>
                            <!-- <p class="info-message text-danger" *ngIf="
                                !assessment.assessment_method &&
                                (fData.submitted || type.touched)
                              ">
                                This is a mandatory field
                            </p> -->
                        </div>

                    </div>
                </div>
            </div>
            <div class="row justify-content-end" *ngIf="!isSavedAssessment">
                <div>

                    <div class="d-flex col-1 justify-content-end p-button-vertical mb-0 pl-2">
                        <button class="btn btn-primary text-uppercase" type="submit">
                            Continue
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <!-- <div class="p-grid p-fluid col-sm-12" *ngIf="showSections">
        <app-cm-section [assessment]="assessmentres"></app-cm-section>
    </div> -->
</div>